<template>
  <require from="./../resources/value-converters/date-format"></require>
  <h3>${message}</h3>

  <div class='panel-body'>
    <div if.bind="account">
      <div class="panel panel-primary">
        <div class="panel-body">
          <div class="row">
            <table class="table">
              <thead>
                <tr>
                  <td>Account Code</td>
                  <td>Account Name</td>
                  <td>Account Decription</td>
                  <td>Account DBA</td>
                  <td>Account Start</td>
                  <td>Account End</td>
                  <td>Address Count</td>
                  <td>Attribute Count</td>
                  <td>Employee Count</td>
                  <td></td>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>${ account.accountCode }</td>
                  <td>${ account.accountName }</td>
                  <td>${ account.accountDesc }</td>
                  <td>${ account.accountDBA }</td>
                  <td>${ account.accountStartDate | dateFormat:'YYYY-MM-DD' }</td>
                  <td>${ account.accountEndDate | dateFormat:'YYYY-MM-DD' }</td>
                  <td>${ account.addresses.length }</td>
                  <td>${ account.attributes.length }</td>
                  <td>${ account.employees.length }</td>
                  <td><button type="button" class="btn btn-info" click.delegate="edit($event, account)">Edit</button></td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="row">
            <table class="table" if.bind="account.addresses.length > 0">
              <thead>
                <tr>
                  <td><h4>Adresses</h4></td>
                </tr>
              </thead>
              <tbody>
                <tr repeat.for="address of account.addresses">
                  <td>${ address.addressKey } 
                    <br> Types: ${ address.addressType } 
                    <br> Address Line 1: ${ address.addressLine1 } 
                    <br> Address Line 2: ${ address.addressLine2 } 
                    <br> City/State/Postal: ${ address.addressCity }, ${ address.addressState } ${ address.addressPostal } 
                    <br> County: ${ address.addressCounty } 
                    <br> Country: ${ address.addressCountry } 
                    <br> Note: ${ address.addressNote } 
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="row">
            <table class="table" if.bind="account.employees.length > 0">
              <thead>
                <tr>
                  <td><h4>Employees</h4></td>
                </tr>
              </thead>
              <tbody>
                <tr repeat.for="emp of account.employees">
                  <td>${ emp.entityPersonKey } 
                    <br> Code: ${ emp.personCode } 
                    <br> Name: ${ emp.personFirstName } ${ emp.personMI } 
                    ${ emp.personLastName }</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
